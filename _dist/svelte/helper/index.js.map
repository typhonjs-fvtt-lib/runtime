{"version":3,"file":"index.js","sources":["../../../node_modules/@typhonjs-fvtt/svelte/src/helper/legacy/radioBoxes.js","../../../node_modules/@typhonjs-fvtt/svelte/src/helper/legacy/selectOptions.js","../../../node_modules/@typhonjs-fvtt/svelte/src/helper/localize.js"],"sourcesContent":["/**\r\n * A helper to create a set of radio checkbox input elements in a named set.\r\n * The provided keys are the possible radio values while the provided values are human readable labels.\r\n *\r\n * @param {string} name         The radio checkbox field name\r\n *\r\n * @param {object} choices      A mapping of radio checkbox values to human readable labels\r\n *\r\n * @param {object} options      Options which customize the radio boxes creation\r\n *\r\n * @param {string} options.checked    Which key is currently checked?\r\n *\r\n * @param {boolean} options.localize  Pass each label through string localization?\r\n *\r\n * @returns {string} HTML for radio boxes.\r\n *\r\n * @example <caption>The provided input data</caption>\r\n * let groupName = \"importantChoice\";\r\n * let choices = {a: \"Choice A\", b: \"Choice B\"};\r\n * let chosen = \"a\";\r\n *\r\n * @example <caption>The template HTML structure</caption>\r\n * <div class=\"form-group\">\r\n *   <label>Radio Group Label</label>\r\n *   <div class=\"form-fields\">\r\n *     {@html radioBoxes(groupName, choices, { checked: chosen, localize: true})}\r\n *   </div>\r\n * </div>\r\n */\r\nexport function radioBoxes(name, choices, options)\r\n{\r\n   const checked = options['checked'] || null;\r\n   const localize = options['localize'] || false;\r\n   let html = '';\r\n\r\n   for (let [key, label] of Object.entries(choices)) // eslint-disable-line prefer-const\r\n   {\r\n      if (localize) { label = game.i18n.localize(label); }\r\n      const isChecked = checked === key;\r\n      html += `<label class=\"checkbox\"><input type=\"radio\" name=\"${name}\" value=\"${key}\" ${\r\n       isChecked ? 'checked' : ''}> ${label}</label>`;\r\n   }\r\n\r\n   return html;\r\n}\r\n","/**\r\n * Converts the `selectOptions` Handlebars helper to be Svelte compatible. This is useful when initially converting\r\n * over an app to Svelte and for essential usage to several dialogs that mirror the core Foundry experience. For\r\n * an example of usage see {@link TJSFolderPermissions}.\r\n *\r\n * A helper to create a set of <option> elements in a <select> block based on a provided dictionary.\r\n * The provided keys are the option values while the provided values are human-readable labels.\r\n * This helper supports both single-select as well as multi-select input fields.\r\n *\r\n * @param {object} choices                     A mapping of radio checkbox values to human readable labels\r\n *\r\n * @param {object} options                     Helper options\r\n *\r\n * @param {string|string[]} [options.selected] Which key or array of keys that are currently selected?\r\n *\r\n * @param {boolean} [options.localize=false]   Pass each label through string localization?\r\n *\r\n * @param {string} [options.blank]             Add a blank option as the first option with this label\r\n *\r\n * @param {string} [options.nameAttr]          Look up a property in the choice object values to use as the option value\r\n *\r\n * @param {string} [options.labelAttr]         Look up a property in the choice object values to use as the option label\r\n *\r\n * @param {boolean} [options.inverted=false]   Use the choice object value as the option value, and the key as the label\r\n *                                             instead of vice-versa\r\n *\r\n * @returns {string} The <options> HTML element(s).\r\n *\r\n * @example <caption>The provided input data</caption>\r\n * let choices = {a: 'Choice A', b: 'Choice B'};\r\n * let value = 'a';\r\n *\r\n * @example <caption>The template HTML structure</caption>\r\n * <select name=\"importantChoice\">\r\n *   {@html selectOptions(choices { selected: value, localize: true })}\r\n * </select>\r\n *\r\n * @example <caption>The resulting HTML</caption>\r\n * <select name=\"importantChoice\">\r\n *   <option value=\"a\" selected>Choice A</option>\r\n *   <option value=\"b\">Choice B</option>\r\n * </select>\r\n *\r\n * @example <caption>Using inverted</caption>\r\n * let choices = {'Choice A': 'a', 'Choice B': 'b'};\r\n * let value = 'a';\r\n *\r\n * @example <caption>The template HTML structure</caption>\r\n * <select name=\"importantChoice\">\r\n *   {@html selectOptions(choices, { selected: value, inverted: true })}\r\n * </select>\r\n *\r\n * @example <caption>Using nameAttr and labelAttr with objects</caption>\r\n * let choices = {foo: {key: 'a', label: 'Choice A'}, bar: {key: 'b', label: 'Choice B'}};\r\n * let value = 'b';\r\n *\r\n * @example <caption>The template HTML structure</caption>\r\n * <select name=\"importantChoice\">\r\n *   {@html selectOptions(choices, { selected: value, nameAttr: 'key', labelAttr: 'label' })}\r\n * </select>\r\n *\r\n * @example <caption>Using nameAttr and labelAttr with arrays</caption>\r\n * let choices = [{key: 'a', label: 'Choice A'}, {key: 'b', label: 'Choice B'}];\r\n * let value = 'b';\r\n *\r\n * @example <caption>The template HTML structure</caption>\r\n * <select name=\"importantChoice\">\r\n *   {@html selectOptions(choices, { selected: value, nameAttr: 'key', labelAttr: 'label' })}\r\n * </select>\r\n */\r\nexport function selectOptions(choices, options)\r\n{\r\n   const localize = options['localize'] ?? false;\r\n   let selected = options['selected'] ?? null;\r\n   const blank = options['blank'] ?? null;\r\n   const nameAttr = options['nameAttr'];\r\n   const labelAttr = options['labelAttr'];\r\n   const inverted = !!options['inverted'];\r\n\r\n   selected = selected instanceof Array ? selected.map(String) : [String(selected)];\r\n\r\n   // Create an option\r\n   const option = (name, label) =>\r\n   {\r\n      if (localize) { label = game.i18n.localize(label); }\r\n      const isSelected = selected.includes(String(name));\r\n\r\n      html += `<option value=\"${name}\" ${isSelected ? \"selected\" : \"\"}>${label}</option>`;\r\n   };\r\n\r\n   // Create the options\r\n   let html = '';\r\n   if (blank !== null) { option('', blank); }\r\n\r\n   // Options as an Array\r\n   if (choices instanceof Array)\r\n   {\r\n      for (const choice of choices) { option(choice[nameAttr], choice[labelAttr]); }\r\n   }\r\n\r\n   // Choices as an Object\r\n   else\r\n   {\r\n      for (const choice of Object.entries(choices))\r\n      {\r\n         let [key, value] = inverted ? choice.reverse() : choice;\r\n         if (nameAttr) { key = value[nameAttr]; }\r\n         if (labelAttr) { value = value[labelAttr]; }\r\n         option(key, value);\r\n      }\r\n   }\r\n\r\n   return html;\r\n}\r\n","/**\r\n * Localize a string including variable formatting for input arguments. Provide a string ID which defines the localized\r\n * template. Variables can be included in the template enclosed in braces and will be substituted using those named\r\n * keys.\r\n *\r\n * @param {string}   stringId - The string ID to translate.\r\n *\r\n * @param {object}   [data] - Provided input data.\r\n *\r\n * @returns {string} The translated and formatted string\r\n */\r\nexport function localize(stringId, data)\r\n{\r\n   const result = typeof data !== 'object' ? game.i18n.localize(stringId) : game.i18n.format(stringId, data);\r\n   return result !== void 0 ? result : '';\r\n}"],"names":[],"mappings":"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"}