function e(e,{positionable:t,booleanStore:n}){let o=null,r={},i=0,a=n;const l={dragDown:["pointerdown",e=>{return(n=e).preventDefault(),o=foundry.utils.duplicate(t.position),r={x:n.clientX,y:n.clientY},globalThis.addEventListener(...l.dragMove),void globalThis.addEventListener(...l.dragUp);var n},!1],dragMove:["pointermove",e=>function(e){if(e.preventDefault(),!a)return;const n=Date.now();n-i<1e3/60||(i=n,t.setPosition({left:o.left+(e.clientX-r.x),top:o.top+(e.clientY-r.y)}))}(e),!1],dragUp:["pointerup",e=>(e.preventDefault(),globalThis.removeEventListener(...l.dragMove),void globalThis.removeEventListener(...l.dragUp)),!1]};function d(){a=!0,e.addEventListener(...l.dragDown),e.classList.add("draggable")}function s(){a=!1,e.removeEventListener(...l.dragDown),e.removeEventListener(...l.dragMove),e.removeEventListener(...l.dragUp),e.classList.remove("draggable")}return a&&d(),{update:({booleanStore:e})=>{e?d():s()},destroy:()=>s()}}export{e as draggable};
//# sourceMappingURL=action.js.map
